# SportsMap
 
Данный проект был разработан в рамках защиты ВКР для СПбГУ. Проект представляет собой интерактивную карту спортивных объектов, а также административную часть для их модерации.

Прод находится по адресу https://sportsmap.spb.ru.

### Структура

В папке `SFASUI` находится клиентская часть, в `nginx` конфиги для реверс-прокси, который нужен для использования SSL-сертификата в проде.

Бэкенд находится в [отдельном репозитории на Github](https://github.com/konnovK/sportsmap), также есть [Swagger](https://sportsmap.spb.ru/new-api/). 

Кроме того, есть [дизайн-макет в Figma](https://www.figma.com/file/36zDtvvYdlykAdAMNrfh0i/SportsMap-2022-2023?type=design&node-id=0-1).

### Локальный запуск проекта
```bash
cd ./SFASUI

nvm install # установка нужной версии Node.js
nvm use

yarn install # установка зависимостей проекта
yarn dev  # запуск проекта
```

### Логгирование

Для отправки логов используется [Yandex.Cloud](https://cloud.yandex.ru/), если они нужны при локальной разработке, то нужно указать в файле `.env` переменные окружения `OAUTH` и `LOG_GROUP_ID`.

### Деплой

В проекте настроена автоматическая сборка docker-образа и его пуш в реджистри Cloud при мерже в main-ветку. После этого необходимо заменить версию docker-образа на виртуальной машине.

### Автотесты

Настроен автоматический запуск тестов на коммит и мерж пулл-реквеста в main. Кроме юнит-тестов есть также и скриншотные тесты, использующие [Chromatic](https://www.chromatic.com/). Чтобы аппрувнуть изменения и посмотреть результаты прогона нужно перейти по ссылке из github actions.

### Storybook

Для локального запуска Storybook:
```bash
yarn storybook
```

Можно посмотреть Storybook онлайн в [Chromatic](https://www.chromatic.com/library?appId=640c640b5dd7e9e58555e182).